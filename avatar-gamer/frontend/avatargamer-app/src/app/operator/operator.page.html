<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Panel de Operador</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon name="log-out-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Bienvenido, {{ userProfile?.username }}</ion-card-title>
      <ion-card-subtitle>Operador</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none">
        <ion-icon name="person" slot="start"></ion-icon>
        <ion-label>
          <h2>ID: {{ userProfile?.id }}</h2>
          <p>Email: {{ userProfile?.email }}</p>
          <p>Rol: {{ userProfile?.role }}</p>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-list>
    <ion-list-header>
      <ion-label>Usuarios vinculados</ion-label>
    </ion-list-header>
    
    <ion-item *ngFor="let user of linkedUsers" button detail>
      <ion-icon [name]="user.status === 'online' ? 'person' : 'person-outline'" 
                [color]="user.status === 'online' ? 'success' : 'medium'"
                slot="start"></ion-icon>
      <ion-label>
        <h2>{{ user.username }}</h2>
        <p>Status: {{ user.status }}</p>
      </ion-label>
    </ion-item>
    
    <ion-item *ngIf="linkedUsers.length === 0" lines="none">
      <ion-label color="medium" class="ion-text-center">
        No hay usuarios vinculados
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
